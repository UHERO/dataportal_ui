<div class="analyzer-view col-xs-12 col-xl-11">
  <h3>Analyzer</h3>
  <ng-template ngFor let-data [ngForOf]="analyzerData | async">
    <lib-share-link *ngIf="data.analyzerSeries.length" [embedCode]="embedCode" [shareLink]="analyzerShareLink" [analyzerSeries]="data.analyzerSeries"
      [view]="'analyzer'" [name]="tooltipName" [units]="tooltipUnits" [geography]="tooltipGeo" [yoy]="tableYoy" [ytd]="tableYtd"
      [c5ma]="tableC5ma" [startDate]="minDate" [endDate]="maxDate" [y0]="y0" [y1]="y1"></lib-share-link>
    <label class="form-check-inline">
      <input type="checkbox" (change)="indexActive($event)" [checked]="indexSeries">Index
    </label>
    <lib-analyzer-highstock *ngIf="data.analyzerSeries.length" [portalSettings]="portalSettings" [allDates]="data.analyzerTableDates"
      [series]="data.analyzerSeries" [seriesOptions]="data.highstockSeriesOptions" [start]="startDate" [end]="endDate"
      [nameChecked]="tooltipName" [unitsChecked]="tooltipUnits" [y0]="y0" [y1]="y1" [geoChecked]="tooltipGeo" [indexChecked]="indexSeries" (yAxesSeries)="setYAxesSeries($event)" (tooltipOptions)="checkTooltip($event)"
      (tableExtremes)="setTableDates($event)"></lib-analyzer-highstock>
    <lib-analyzer-table *ngIf="data.analyzerSeries.length" [minDate]="minDate" [maxDate]="maxDate" [yoyChecked]="tableYoy"
      [ytdChecked]="tableYtd" [c5maChecked]="tableC5ma" [indexChecked]="indexSeries" [series]="data.analyzerSeries" [allTableDates]="data.analyzerTableDates"
      (tableTransform)="checkTransforms($event)"></lib-analyzer-table>
  </ng-template>
</div>