<div class="category-tables">
  <p class="top-anchor" id="top"></p>
  <h2 class="selected-category">{{selectedCategory}}</h2>
  <div class="filters">
    <app-geo-selector [regions]="regions" [(selectedGeo)]="currentGeo" (selectedGeoChange)="redrawTableGeo($event)" class="selector"></app-geo-selector>
    <app-freq-selector [freqs]="freqs" [(selectedFreq)]="currentFreq" (selectedFreqChange)="redrawTableFreq($event)" class="selector"></app-freq-selector>
    <div class="sa-toggle">
      <template ngFor let-series [ngForOf]="seriesData">
        <template ngFor let-serie [ngForOf]="series['series']">
          <label class="btn btn-primary" *ngIf="serie['serie']['seasonallyAdjusted'] === false" [class.isActive]="saIsActive">
            <input type="checkbox" autocomplete="off" [checked]="saIsActive" (change)="saActive($event)">Sesonally Adjusted
          </label>
        </template>
      </template>
    </div>
    <a [routerLink]="['/category', id]" class="switch-view">Chart View <i class="material-icons md-18">show_chart</i></a>
  </div>
  <template [ngIf]="sublist.length > 1">
    <hr>
    <ul class="content-links">
      <li *ngFor="let sub of sublist">
        <a [routerLink]="" (click)="scrollTo(sub.id)">{{sub.name}}</a>
      </li>
    </ul>
    <hr>
  </template>
  <div *ngFor="let series of seriesData" class="table-row">
    <h3 class="sublist" [attr.id]="series['sublist']['id']">{{series['sublist']['name']}} <a *ngIf="sublist.length > 1" [routerLink]="" (click)="scrollTo('top')"><i class="material-icons md-18">arrow_upward</i></a></h3>
    <hr class="sublist-separator">
    <div class="table" #tableScroll on-mouseover="userMouse()">
      <table class="category-table">
        <thead>
          <th>Series</th>
          <th *ngFor="let date of series['sublist']['date range']">{{date['table date']}}</th>
        </thead>
        <tbody>
          <template ngFor let-serie [ngForOf]="series['series']">
              <tr *ngIf="saIsActive === serie['serie']['seasonallyAdjusted'] && serie['category table']">
                <td><a [routerLink]="['/series', serie['serie']['id']]" [title]="serie['serie']['title']">{{serie['serie']['title']}}</a></td>
                <td *ngFor="let item of serie['category table']">{{item.value}}</td>
              </tr>
          </template>
        </tbody>
      </table>
    </div>
  </div>
</div>